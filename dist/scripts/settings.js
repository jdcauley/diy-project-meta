"use strict";!function(e){var t={terms:[],notices:[],termTemplate:function(e){return'\n        <li class="difficulty-term" data-term-id="'+e.id+'">\n          <h3>'+e.name+'</h3>\n          <a href="#" class="term-delete" data-term-id="'+e.id+'">Delete</a>\n        </li>\n      '},noticeTemplate:function(e,t){return'<div class="'+t+'"><p>'+e+"</p></div>"},renderTerms:function(){var i=e("#difficulty-term-list");i.empty(),e.each(this.terms,function(e){var n=t.termTemplate(this);i.append(n)})},renderNotices:function(){var i=e("#term-notices");i.empty(),e.each(this.notices,function(e){var n=t.noticeTemplate(this.message,this.type);i.append(n)})},set termData(e){this.terms=e,this.renderTerms()},set noticeData(e){this.notices=e,this.renderNotices()},getTerms:function(){var i=window.wpApiSettings.root+"wp/v2/diy_meta_difficulty";e.getJSON(i,function(e){t.termData=e})},deleteTerm:function(t){var i=this,n=window.wpApiSettings.root+"diy_meta_plugin/v1/diy_meta_difficulty/"+t;e.ajax({url:n,method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.wpApiSettings.nonce)}}).done(function(e,t,n){i.getTerms(),i.noticeData=[{message:"Difficulty Level Succesfully Deleted",type:"update"}]}).fail(function(e,t,n){i.getTerms(),i.noticeData=[{message:"Difficulty Level Not Deleted, Please Try Again",type:"error"}]})},createTerm:function(t){var i=this,n=window.wpApiSettings.root+"diy_meta_plugin/v1/diy_meta_difficulty/";e.ajax({url:n,method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.wpApiSettings.nonce)},data:{diy_meta_new_term:t}}).done(function(e,t,n){i.getTerms(),i.noticeData=[{message:"Difficulty Level Succesfully Created",type:"update"}]}).fail(function(e,t,n){i.noticeData=[{message:"Difficulty Level Not Deleted, Please Try Again",type:"error"}]})},init:function(){var t=this;e(".difficulty-term-list").on("click",".term-delete",function(e){e.preventDefault();var i=e.currentTarget.getAttribute("data-term-id");t.deleteTerm(i)}),e(".difficulty-term-create").on("click","#diy_meta_new_term-button",function(i){i.preventDefault();var n=e("#diy_meta_new_term"),r=n.val();n.val(""),t.createTerm(r)}),this.getTerms()}};e(document).ready(function(){t.init(),e(".bg-color-picker").wpColorPicker()})}(window.jQuery);